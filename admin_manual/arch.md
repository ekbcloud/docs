# 技术架构

此章节主要方便IT管理员了解整个系统的架构，以便更好的管理系统和排查问题。

## 组件

丰盘ECM采用DOCKER技术部署，部署完成之后可以用 **docker container ls -a** 查看主机上的所有容器，并且所有容器都绑定在同一个虚拟网络上，容器之间可以互相访问，但主机之外的其他节点只能访问此网络的80端口、443端口（如果开启了HTTPS的话）以及5432端口（PostgrelSQL）。

![DOCKER容器列表](<../.gitbook/assets/image (5).png>)

{% hint style="success" %}
DOCKER小知识点：DOCKER镜像就相当于安装程序二进制文件，DOCKER容器可以理解为运行这个二进制文件的一份实例进程，多个容器其实就像运行了多个进程。
{% endhint %}

丰盘系统的所有容器均以 **xpan-** 前缀命名，作用分别如下：

* xpan-gw：整个系统对外的WEB流量网关；
* xpan-api：丰盘系统的后端API服务；
* xpan-fe：丰盘系统的前端SPA组件；
* xpan-db：丰盘系统使用的PostgreSQL数据库；
* xpan-ota：丰盘系统的在线升级组件；

## 存储

整个系统的数据文件均保存在 **/opt/xpan/** 目录下，此子目录的结构如下：

* bin：存放升级版本的二进制组件；
* **data：存放整个丰盘系统的数据库文件、用户上传的文件、密钥等重要敏感数据；**
* logs：存放丰盘系统各个关键组件的日志文件；
* tools：存放管理丰盘系统的CLI命令行工具包；
* setup：存放安装升级过程中产生的临时文件；

{% hint style="info" %}
IT管理员应做好 **data数据目录** 的定期备份计划，以确保当主机损坏之后，能及时恢复丰盘系统的数据。其他目录视实际需要进行备份。
{% endhint %}







